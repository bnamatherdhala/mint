Below we summarise the dataset.

The data is limited to the training dataset.


Data frame:crs$dataset[crs$sample, c(crs$input, crs$risk, crs$target)]	35636 observations and 8 variables    Maximum # NAs:0


                            Levels Storage
Number_of_logins                   integer
Offerid                            integer
Merchant                        23 integer
TNM_Monthly.Income                  double
TNM_Monthly.Spend                   double
TNM_Number.of.Bank.Accounts         double
TNM_Offer.time_stamp                double
R01_Event                           double

+--------+-----------------------------------------------------------------+
|Variable|Levels                                                           |
+--------+-----------------------------------------------------------------+
|Merchant|Capital One,Capital One 360,Chase,Choose Energy,Citi             |
|        |ctg.discovery.intuit.com,Efinancial,Fidelity,FutureAdvisor,InsWeb|
|        |Lending Club,Levanto,Motif,Motif Investing,Personal Capital      |
|        |Progressive,Progrexion,Quicken Loans,Quinstreet,Rate Supermarket |
|        |RateSuperMarket.ca,Scotiabank,Wealthfront                        |
+--------+-----------------------------------------------------------------+

For the simple distribution tables below the 1st and 3rd Qu. 
refer to the first and third quartiles, indicating that 25% 
of the observations have values of that variable which are 
less than or greater than (respectively) the value listed.

 Number_of_logins    Offerid                 Merchant     TNM_Monthly.Income
 Min.   :  1.00   Min.   :35619   Chase          :11309   Min.   :   1.0    
 1st Qu.: 28.00   1st Qu.:44588   Motif Investing: 6625   1st Qu.: 506.0    
 Median : 65.00   Median :44860   Fidelity       : 3313   Median :1003.5    
 Mean   : 98.04   Mean   :44380   Capital One    : 2496   Mean   : 977.2    
 3rd Qu.:129.00   3rd Qu.:45130   FutureAdvisor  : 2239   3rd Qu.:1461.0    
 Max.   :805.00   Max.   :45171   Lending Club   : 2152   Max.   :1928.0    
                                  (Other)        : 7502                     
 TNM_Monthly.Spend TNM_Number.of.Bank.Accounts TNM_Offer.time_stamp
 Min.   :   1.0    Min.   :1.000               Min.   :    1       
 1st Qu.:  34.0    1st Qu.:2.000               1st Qu.: 2912       
 Median : 487.0    Median :2.000               Median : 5898       
 Mean   : 533.7    Mean   :1.909               Mean   : 5919       
 3rd Qu.: 945.0    3rd Qu.:2.000               3rd Qu.: 8970       
 Max.   :1436.0    Max.   :5.000               Max.   :11921       
                                                                   
   R01_Event      
 Min.   :0.00000  
 1st Qu.:0.00000  
 Median :0.00000  
 Mean   :0.06693  
 3rd Qu.:0.00000  
 Max.   :1.00000  
                  
                  
                  
                  
 Below is a description of the dataset.
The data is limited to the training dataset.

crs$dataset[crs$sample, c(crs$input, crs$risk, crs$target)] 

 8  Variables      35636  Observations
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Number_of_logins 
      n missing  unique    Info    Mean     .05     .10     .25     .50     .75     .90     .95 
  35636       0     266       1   98.04       6      11      28      65     129     216     316 

lowest :   1   2   3   4   5, highest: 518 593 700 708 805 
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Offerid 
      n missing  unique    Info    Mean     .05     .10     .25     .50     .75     .90     .95 
  35636       0      40       1   44380   42186   43490   44588   44860   45130   45171   45171 

lowest : 35619 41908 42032 42186 42902, highest: 45130 45131 45144 45153 45171 
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Merchant 
      n missing  unique 
  35636       0      23 

lowest : Capital One        Capital One 360    Chase              Choose Energy      Citi              
highest: Quinstreet         Rate Supermarket   RateSuperMarket.ca Scotiabank         Wealthfront        
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
TNM_Monthly.Income 
      n missing  unique    Info    Mean     .05     .10     .25     .50     .75     .90     .95 
  35636       0    1905       1   977.2    97.0   191.5   506.0  1003.5  1461.0  1727.0  1815.0 

lowest :    1    2    3    4    5, highest: 1923 1924 1925 1927 1928 
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
TNM_Monthly.Spend 
      n missing  unique    Info    Mean     .05     .10     .25     .50     .75     .90     .95 
  35636       0    1419    0.99   533.7       1       1      34     487     945    1233    1346 

lowest :    1    2    3    4    5, highest: 1432 1433 1434 1435 1436 
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
TNM_Number.of.Bank.Accounts 
      n missing  unique    Info    Mean 
  35636       0       5    0.71   1.909 

             1     2    3   4   5
Frequency 8315 23076 3531 605 109
%           23    65   10   2   0
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
TNM_Offer.time_stamp 
      n missing  unique    Info    Mean     .05     .10     .25     .50     .75     .90     .95 
  35636       0   11394       1    5919     506    1098    2912    5898    8970   10766   11330 

lowest :     1     2     3     4     5, highest: 11917 11918 11919 11920 11921 
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
R01_Event 
      n missing  unique    Info     Sum    Mean 
  35636       0       2    0.19    2385 0.06693 
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------                 


Title:
 t Test

Test Results:
  PARAMETER:
    x Observations: 66596
    y Observations: 4676
    mu: 0
  SAMPLE ESTIMATES:
    Mean of x: 44407.1925
    Mean of y: 44046.3807
    Var  of x: 2483859.771
    Var  of y: 4522219.814
  STATISTIC:
                T: 11.3848
    T | Equal Var: 14.7412
  P VALUE:
    Alternative Two-Sided: < 2.2e-16 
    Alternative      Less: 1 
    Alternative   Greater: < 2.2e-16 
    Alternative Two-Sided | Equal Var: < 2.2e-16 
    Alternative      Less | Equal Var: 1 
    Alternative   Greater | Equal Var: < 2.2e-16 
  CONFIDENCE INTERVAL:
    Two-Sided: 298.6809, 422.9428
         Less: -Inf, 412.9508
      Greater: 308.6728, Inf
    Two-Sided | Equal Var: 312.8382, 408.7855
         Less | Equal Var: -Inf, 401.0724
      Greater | Equal Var: 320.5513, Inf

-----------------------------------------------------------------------------------------------
 

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

--------------------------------------------------------------------------------------------------------
Call:
glm(formula = Event ~ Offerid + Number.of.Bank.Accounts + Merchant + 
    Monthly.Spend + Monthly.Income, family = binomial(link = "logit"), 
    data = train2)

Deviance Residuals: 
    Min       1Q   Median       3Q      Max  
-2.2865  -0.3725  -0.3332  -0.3002   4.2882  

Coefficients:
                                   Estimate Std. Error z value Pr(>|z|)    
(Intercept)                       1.026e+01  2.540e+00   4.039 5.37e-05 ***
Offerid                          -2.892e-04  5.633e-05  -5.134 2.84e-07 ***
Number_of_logins                 -5.076e+00  6.077e-01   8.353  < 2e-16 ***
Number.of.Bank.Accounts           8.380e-02  3.606e-02   2.324 0.020130 *  
MerchantCapital One 360           3.362e-01  2.031e-01   1.655 0.097851 .  
MerchantChase                    -1.316e-01  9.202e-02  -1.430 0.152589    
MerchantChoose Energy             8.263e-01  1.846e-01   4.477 7.57e-06 ***
MerchantCiti                     -1.265e-01  1.709e-01  -0.740 0.459209    
Merchantctg.discovery.intuit.com  9.566e-01  1.815e-01   5.270 1.37e-07 ***
MerchantEfinancial               -1.149e+00  7.178e-01  -1.600 0.109615    
MerchantFidelity                  1.874e-01  1.098e-01   1.706 0.087974 .  
MerchantFutureAdvisor             5.416e-02  1.211e-01   0.447 0.654596    
MerchantInsWeb                   -1.742e+00  5.466e-01  -3.188 0.001433 ** 
MerchantLending Club              8.415e-01  1.047e-01   8.034 9.42e-16 ***
MerchantLevanto                   6.812e-01  2.157e-01   3.158 0.001587 ** 
MerchantMotif                    -1.157e+01  5.097e+02  -0.023 0.981887    
MerchantMotif Investing           1.674e-01  9.672e-02   1.731 0.083517 .  
MerchantPersonal Capital         -9.207e-01  3.109e-01  -2.961 0.003068 ** 
MerchantProgressive               5.321e-02  2.007e-01   0.265 0.790887    
MerchantProgrexion               -6.699e-01  2.179e-01  -3.074 0.002114 ** 
MerchantQuicken Loans            -4.860e-01  2.191e-01  -2.218 0.026572 *  
MerchantQuinstreet               -1.187e+01  1.576e+02  -0.075 0.939942    
MerchantRate Supermarket         -7.470e-01  2.877e-01  -2.596 0.009428 ** 
MerchantRateSuperMarket.ca        1.686e+01  2.279e+02   0.074 0.941013    
MerchantScotiabank                5.076e+00  6.077e-01   8.353  < 2e-16 ***
MerchantWealthfront              -3.529e-01  1.912e-01  -1.845 0.064986 .  
Monthly.Spend                    -4.487e-05  5.700e-06  -7.873 3.45e-15 ***
Monthly.Income                   -2.406e-06  7.196e-07  -3.343 0.000828 ***
Offer.time_Stamp                 -2.406e-06  7.196e-07  -3.343 0.391705
time_StampPM                      5.076e+00  6.077e-01   8.353 0.238099 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 19294  on 39999  degrees of freedom
Residual deviance: 18158  on 39968  degrees of freedom
AIC: 18222

Number of Fisher Scoring iterations: 13

Log likelihood: -6666.463 (30 df)
Null/Residual deviance difference: 839.441 (29 df)
Chi-square p-value: 0.00000000
Pseudo R-Square (optimistic): 0.21508524

==== ANOVA ====

Analysis of Deviance Table

Model: binomial, link: logit

Response: R01_Event

Terms added sequentially (first to last)


                        Df Deviance Resid. Df Resid. Dev  Pr(>Chi)    
NULL                                    28507      14172              
Number.of.Bank.Accounts  1     6.83     28506      14166  0.008954 ** 
Monthly.Spend            1    89.27     28505      14076 < 2.2e-16 ***
Monthly.Income           1     0.00     28504      14076  0.972394    
Number_of_logins         1   262.24     28503      13814 < 2.2e-16 ***
Offerid                  1    57.21     28502      13757 3.917e-14 ***
Merchant                22   421.76     28480      13335 < 2.2e-16 ***
Offer.time_Stamp         1     0.73     28479      13334  0.391705    
time_Stamp               1     1.39     28478      13333  0.238099    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

> prediction = predict(fit5,validate, type = "response")
> g = roc(Event~prediction, data = validate)
> plot(g)

Call:
roc.formula(formula = Event ~ prediction, data = validate)

Data: prediction in 18740 controls (Event 1) < 1260 cases (Event 2).
Area under the curve: 0.6747

> confint(fit5)
Waiting for profiling to be done...
                                         2.5 %        97.5 %
(Intercept)                       5.248680e+00  1.520992e+01
Offerid                          -3.990773e-04 -1.781112e-04
Number.of.Bank.Accounts           1.271563e-02  1.540631e-01
MerchantCapital One 360          -7.763246e-02  7.209037e-01
MerchantChase                    -3.094120e-01  5.154460e-02
MerchantChoose Energy             4.554372e-01  1.180227e+00
MerchantCiti                     -4.707976e-01  2.004564e-01
Merchantctg.discovery.intuit.com  5.914222e-01  1.304566e+00
MerchantEfinancial               -2.955562e+00  9.981521e-03
MerchantFidelity                 -2.684951e-02  4.039579e-01
MerchantFutureAdvisor            -1.836179e-01  2.912997e-01
MerchantInsWeb                   -2.808747e+00 -6.649586e-01
MerchantLending Club              6.377473e-01  1.048578e+00
MerchantLevanto                   2.399971e-01  1.088524e+00
MerchantMotif                               NA  5.492517e+01
MerchantMotif Investing          -2.003744e-02  3.593264e-01
MerchantPersonal Capital         -1.581524e+00 -3.520902e-01
MerchantProgressive              -3.391153e-01  4.478251e-01
MerchantProgrexion               -1.109807e+00 -2.533573e-01
MerchantQuicken Loans            -9.212297e-01 -6.125969e-02
MerchantQuinstreet               -5.781016e+01 -4.048051e+00
MerchantRate Supermarket         -1.348954e+00 -2.135454e-01
MerchantRateSuperMarket.ca        2.014852e+00            NA
MerchantScotiabank                4.040611e+00  6.507941e+00
MerchantWealthfront              -7.407690e-01  1.080652e-02
Monthly.Spend                    -5.624225e-05 -3.390659e-05
Monthly.Income                   -3.912683e-06 -1.088976e-06
Offer.time_Stamp                 -3.391153e-01  4.478251e-01
time_Stamp                       -2.808747e+00 -6.649586e-01

> exp(confint(fit5))
Waiting for profiling to be done...
                                        2.5 %       97.5 %
(Intercept)                      1.903149e+02 4.032587e+06
Offerid                          9.996010e-01 9.998219e-01
Number.of.Bank.Accounts          1.012797e+00 1.166564e+00
MerchantCapital One 360          9.253045e-01 2.056291e+00
MerchantChase                    7.338783e-01 1.052896e+00
MerchantChoose Energy            1.576863e+00 3.255113e+00
MerchantCiti                     6.245040e-01 1.221960e+00
Merchantctg.discovery.intuit.com 1.806556e+00 3.686089e+00
MerchantEfinancial               5.204942e-02 1.010032e+00
MerchantFidelity                 9.735077e-01 1.497741e+00
MerchantFutureAdvisor            8.322538e-01 1.338166e+00
MerchantInsWeb                   6.028045e-02 5.142948e-01
MerchantLending Club             1.892214e+00 2.853590e+00
MerchantLevanto                  1.271245e+00 2.969888e+00
MerchantMotif                              NA 7.139985e+23
MerchantMotif Investing          9.801620e-01 1.432364e+00
MerchantPersonal Capital         2.056615e-01 7.032167e-01
MerchantProgressive              7.124003e-01 1.564905e+00
MerchantProgrexion               3.296225e-01 7.761905e-01
MerchantQuicken Loans            3.980293e-01 9.405790e-01
MerchantQuinstreet               7.822876e-26 1.745637e-02
MerchantRate Supermarket         2.595116e-01 8.077155e-01
MerchantRateSuperMarket.ca       7.499616e+00           NA
MerchantScotiabank               5.686107e+01 6.704445e+02
MerchantWealthfront              4.767472e-01 1.010865e+00
Monthly.Spend                    9.999438e-01 9.999661e-01
Monthly.Income                   9.999961e-01 9.999989e-01





exp(fit5$coefficients)
                     (Intercept)                          Offerid 
                    2.849609e+04                     9.997108e-01 
         Number.of.Bank.Accounts          MerchantCapital One 360 
                    1.087409e+00                     1.399550e+00 
                   MerchantChase            MerchantChoose Energy 
                    8.766626e-01                     2.284903e+00 
                    MerchantCiti Merchantctg.discovery.intuit.com 
                    8.811998e-01                     2.602788e+00 
              MerchantEfinancial                 MerchantFidelity 
                    3.171116e-01                     1.206103e+00 
           MerchantFutureAdvisor                   MerchantInsWeb 
                    1.055651e+00                     1.750911e-01 
            MerchantLending Club                  MerchantLevanto 
                    2.319870e+00                     1.976206e+00 
                   MerchantMotif          MerchantMotif Investing 
                    9.435404e-06                     1.182203e+00 
        MerchantPersonal Capital              MerchantProgressive 
                    3.982580e-01                     1.054652e+00 
              MerchantProgrexion            MerchantQuicken Loans 
                    5.117721e-01                     6.151063e-01 
              MerchantQuinstreet         MerchantRate Supermarket 
                    6.979828e-06                     4.737886e-01 
      MerchantRateSuperMarket.ca               MerchantScotiabank 
                    2.105826e+07                     1.602025e+02 
             MerchantWealthfront                    Monthly.Spend 
                    7.026806e-01                     9.999551e-01 
                  Monthly.Income 
                    9.999976e-01 

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Call:
glm(formula = Event ~ Monthly.Spend + Number.of.Bank.Accounts + 
    Monthly.Income + Merchant + Offer.time_Stamp + I(Offerid^2) + 
    time_Stamp + Number_of_logins + Monthly.Income * Monthly.Spend + 
    Monthly.Income * Number_of_logins, family = binomial(link = "logit"), 
    data = t4)

Deviance Residuals: 
    Min       1Q   Median       3Q      Max  
-2.1760  -0.3996  -0.3346  -0.2594   3.6176  

Coefficients:
                                   Estimate Std. Error z value Pr(>|z|)    
(Intercept)                       4.113e+02  5.005e+02   0.822 0.411185    
Monthly.Spend                    -3.855e-05  5.674e-06  -6.795 1.08e-11 ***
Number.of.Bank.Accounts          -5.578e-02  3.396e-02  -1.643 0.100470    
Monthly.Income                   -2.501e-06  7.413e-07  -3.374 0.000741 ***
MerchantCapital One 360           1.852e-01  1.957e-01   0.947 0.343861    
MerchantChase                    -4.672e-01  8.695e-02  -5.373 7.74e-08 ***
MerchantChoose Energy             6.551e-01  1.843e-01   3.554 0.000380 ***
MerchantCiti                     -5.687e-01  1.756e-01  -3.239 0.001199 ** 
Merchantctg.discovery.intuit.com  1.068e+00  1.767e-01   6.043 1.51e-09 ***
MerchantEfinancial               -7.032e-01  5.150e-01  -1.365 0.172152    
MerchantFidelity                 -1.639e-01  1.058e-01  -1.550 0.121208    
MerchantFutureAdvisor            -1.637e-01  1.165e-01  -1.405 0.159884    
MerchantInsWeb                   -2.353e+00  5.002e-01  -4.705 2.54e-06 ***
MerchantLending Club              4.854e-01  1.021e-01   4.756 1.98e-06 ***
MerchantLevanto                   6.636e-01  2.011e-01   3.300 0.000968 ***
MerchantMotif                    -1.228e+01  6.242e+02  -0.020 0.984308    
MerchantMotif Investing          -1.193e-01  9.203e-02  -1.296 0.194972    
MerchantPersonal Capital         -1.324e+00  3.216e-01  -4.117 3.84e-05 ***
MerchantProgressive              -4.724e-01  1.981e-01  -2.384 0.017102 *  
MerchantProgrexion               -8.569e-01  2.187e-01  -3.918 8.93e-05 ***
MerchantQuicken Loans            -8.660e-01  2.154e-01  -4.021 5.80e-05 ***
MerchantQuinstreet               -1.242e+01  1.626e+02  -0.076 0.939113    
MerchantRate Supermarket         -8.739e-01  2.665e-01  -3.279 0.001042 ** 
MerchantRateSuperMarket.ca        1.649e+01  2.767e+02   0.060 0.952475    
MerchantScotiabank                4.280e+00  5.353e-01   7.995 1.30e-15 ***
MerchantWealthfront              -3.740e-01  1.695e-01  -2.207 0.027339 *  
Offer.time_Stamp                 -2.011e-05  2.483e-05  -0.810 0.417993    
I(Offerid^2)                     -3.937e-09  6.361e-10  -6.190 6.03e-10 ***
time_Stamp PM                     1.159e-01  4.189e-02   2.768 0.005638 ** 
Number_of_logins                 -5.762e-03  3.395e-04 -16.969  < 2e-16 ***
Monthly.Spend:Monthly.Income      6.785e-11  1.145e-11   5.925 3.12e-09 ***
Monthly.Income:Number_of_logins   1.429e-08  3.406e-09   4.195 2.73e-05 ***
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1

(Dispersion parameter for binomial family taken to be 1)

   Null deviance: 14172  on 28507  degrees of freedom
Residual deviance: 13333  on 28478  degrees of freedom
AIC: 13393

Number of Fisher Scoring iterations: 13

> prediction = predict(fit6,validate, type = "response")
> g = roc(Event~prediction, data = validate)
> plot(g)

Call:
roc.formula(formula = Event ~ prediction, data = validate)

Data: prediction in 18740 controls (Event 1) < 1260 cases (Event 2).
Area under the curve: 0.7247
      
      
